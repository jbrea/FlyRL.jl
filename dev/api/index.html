<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>- · FlyRL.jl</title><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">FlyRL.jl</a></span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">FlyRL</a></li><li class="is-active"><a class="tocitem" href>-</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>-</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>-</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/jbrea/FlyRL.jl/blob/main/docs/src/api.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><article class="docstring"><header><a class="docstring-binding" id="FlyRL.preprocess-Tuple{Any}" href="#FlyRL.preprocess-Tuple{Any}"><code>FlyRL.preprocess</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">preprocess(
    df;
    filter,
    window,
    initial_outlier_tolerance,
    encoders,
    warn_outliers,
    drop_outliers,
    subsample_resolution
)
</code></pre><p>Preprocess data frame <code>df</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jbrea/FlyRL.jl/blob/270e463a113442cf9019d3cf2cecff6c04c5ada6/src/io.jl#L91">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="FlyRL.read-Tuple{Any, Any}" href="#FlyRL.read-Tuple{Any, Any}"><code>FlyRL.read</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">read(root, f; preprocess, kwargs...)
</code></pre><p>Read track <code>f</code> in directory <code>root</code> and corresponding time, shock and pattern file. Returns a <code>DataFrame</code>. <code>kwargs</code> are passed to <a href="#FlyRL.preprocess-Tuple{Any}"><code>preprocess</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jbrea/FlyRL.jl/blob/270e463a113442cf9019d3cf2cecff6c04c5ada6/src/io.jl#L1">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="FlyRL.read_directory-Tuple{Any}" href="#FlyRL.read_directory-Tuple{Any}"><code>FlyRL.read_directory</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">read_directory(dir; verbosity, pattern, kwargs...)
</code></pre><p>Read all tracks in directory <code>dir</code>. Uses <a href="#FlyRL.read-Tuple{Any, Any}"><code>read</code></a> and passes <code>kwargs</code> to <a href="#FlyRL.preprocess-Tuple{Any}"><code>preprocess</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jbrea/FlyRL.jl/blob/270e463a113442cf9019d3cf2cecff6c04c5ada6/src/io.jl#L30">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="FlyRL.AngleEncoder" href="#FlyRL.AngleEncoder"><code>FlyRL.AngleEncoder</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">AngleEncoder()</code></pre><p>Encodes angles between subsequent orientations.</p><p>Convention: the same row should contain the delta values that lead to the current value, i.e. delta values should start with <code>missing</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jbrea/FlyRL.jl/blob/270e463a113442cf9019d3cf2cecff6c04c5ada6/src/encoders.jl#L532-L538">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="FlyRL.AngleEncoder2D" href="#FlyRL.AngleEncoder2D"><code>FlyRL.AngleEncoder2D</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">AngleEncoder2D()</code></pre><p>Encodes angles as <code>(sin(angle), cos(angle))</code> (see also <a href="#FlyRL.AngleEncoder"><code>AngleEncoder</code></a>).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jbrea/FlyRL.jl/blob/270e463a113442cf9019d3cf2cecff6c04c5ada6/src/encoders.jl#L567-L571">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="FlyRL.ArmEncoder-Tuple{}" href="#FlyRL.ArmEncoder-Tuple{}"><code>FlyRL.ArmEncoder</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">ArmEncoder(; with_outliers)
</code></pre><p>Encodes arms of the maze as <code>&quot;left&quot;</code>, <code>&quot;middle&quot;</code>, <code>&quot;right&quot;</code>, <code>&quot;center&quot;</code>. Points outside the maze are marked as <code>&quot;outlier&quot;</code> if <code>with_outliers = true</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jbrea/FlyRL.jl/blob/270e463a113442cf9019d3cf2cecff6c04c5ada6/src/encoders.jl#L261">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="FlyRL.ClosestWallEncoder" href="#FlyRL.ClosestWallEncoder"><code>FlyRL.ClosestWallEncoder</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">ClosestWallEncoder(encoder)</code></pre><p>Encodes the closest wall as determined with <code>encoder</code> (either <a href="#FlyRL.FourWallsEncoder-Tuple{}"><code>FourWallsEncoder</code></a>, <a href="#FlyRL.SixWallsEncoder-Tuple{}"><code>SixWallsEncoder</code></a> or <a href="#FlyRL.EightWallsEncoder-Tuple{}"><code>EightWallsEncoder</code></a>).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jbrea/FlyRL.jl/blob/270e463a113442cf9019d3cf2cecff6c04c5ada6/src/encoders.jl#L146-L151">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="FlyRL.ColorEncoder-Tuple{}" href="#FlyRL.ColorEncoder-Tuple{}"><code>FlyRL.ColorEncoder</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">ColorEncoder(; colordict, with_outliers)
</code></pre><p>Encode color based on <code>track.pattern</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jbrea/FlyRL.jl/blob/270e463a113442cf9019d3cf2cecff6c04c5ada6/src/encoders.jl#L620">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="FlyRL.ColumnPicker" href="#FlyRL.ColumnPicker"><code>FlyRL.ColumnPicker</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">ColumnPicker(colname::Symbol)</code></pre><p>Picks a column from a data frame.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jbrea/FlyRL.jl/blob/270e463a113442cf9019d3cf2cecff6c04c5ada6/src/encoders.jl#L586-L590">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="FlyRL.DeltaPositionEncoder" href="#FlyRL.DeltaPositionEncoder"><code>FlyRL.DeltaPositionEncoder</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">DeltaPositionEncoder()</code></pre><p>Encodes <code>Δx</code> and <code>Δy</code> from <code>x</code> and <code>y</code>.</p><p>Convention: the same row should contain the delta values that lead to the current value, i.e. delta values should start with <code>missing</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jbrea/FlyRL.jl/blob/270e463a113442cf9019d3cf2cecff6c04c5ada6/src/encoders.jl#L417-L423">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="FlyRL.DeltaPositionIndexEncoder" href="#FlyRL.DeltaPositionIndexEncoder"><code>FlyRL.DeltaPositionIndexEncoder</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">DeltaPositionIndexEncoder(; maxradius = 20, stepsize = 1)</code></pre><p>Encodes relative positions (Δx, Δy) with an integer, based on a 2D grid with <code>stepsize</code> and largest relative position <code>Δx^2 + Δy^2 = maxradius^2</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jbrea/FlyRL.jl/blob/270e463a113442cf9019d3cf2cecff6c04c5ada6/src/encoders.jl#L229-L234">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="FlyRL.DeltaTimeEncoder" href="#FlyRL.DeltaTimeEncoder"><code>FlyRL.DeltaTimeEncoder</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">DeltaTimeEncoder()</code></pre><p>Encodes <code>Δt</code> from <code>t</code>; uses default 0.15, if <code>t</code> is missing.</p><p>Convention: the same row should contain the delta values that lead to the current value, i.e. delta values should start with <code>missing</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jbrea/FlyRL.jl/blob/270e463a113442cf9019d3cf2cecff6c04c5ada6/src/encoders.jl#L441-L447">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="FlyRL.DurationPerStateEncoder" href="#FlyRL.DurationPerStateEncoder"><code>FlyRL.DurationPerStateEncoder</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">DurationPerStateEncoder(encoder)</code></pre><p>Encode the duration that is spent in a given state.</p><p><strong>Example</strong></p><p>encode(DurationPerStateEncoder(ShockArmEncoder()), random_track()) |&gt; DataFrame</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jbrea/FlyRL.jl/blob/270e463a113442cf9019d3cf2cecff6c04c5ada6/src/encoders.jl#L865-L871">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="FlyRL.DynamicCompressEncoder-Union{Tuple{N}, Tuple{Union{Symbol, Tuple{Vararg{Symbol, N}}}, Vararg{Any}}} where N" href="#FlyRL.DynamicCompressEncoder-Union{Tuple{N}, Tuple{Union{Symbol, Tuple{Vararg{Symbol, N}}}, Vararg{Any}}} where N"><code>FlyRL.DynamicCompressEncoder</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">DynamicCompressEncoder(compress_on, encoders...)</code></pre><p>Merge subsequent states of <code>compress_on</code> into one state.</p><p><strong>Example</strong></p><p>encode(DynamicCompressEncoder(StanHMCAdaptor()), random_track()) |&gt; DataFrame</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jbrea/FlyRL.jl/blob/270e463a113442cf9019d3cf2cecff6c04c5ada6/src/encoders.jl#L890-L896">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="FlyRL.FutureDeltaTimeEncoder" href="#FlyRL.FutureDeltaTimeEncoder"><code>FlyRL.FutureDeltaTimeEncoder</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">FutureDeltaTimeEncoder()</code></pre><p>Same as <a href="."><code>DeltaTimeEncoder</code></a> but offset by one, i.e. the same row contains the delta value that leads to the next value.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jbrea/FlyRL.jl/blob/270e463a113442cf9019d3cf2cecff6c04c5ada6/src/encoders.jl#L461-L466">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="FlyRL.InShockArmEncoder" href="#FlyRL.InShockArmEncoder"><code>FlyRL.InShockArmEncoder</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">InShockArmEncoder()</code></pre><p>Encodes if the position is in the shock arm.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jbrea/FlyRL.jl/blob/270e463a113442cf9019d3cf2cecff6c04c5ada6/src/encoders.jl#L603-L607">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="FlyRL.LevelEncoder" href="#FlyRL.LevelEncoder"><code>FlyRL.LevelEncoder</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">LevelEncoder(encoder)</code></pre><p>Encode level as an integer for a categorical encoder (like <a href="#FlyRL.ShockArmEncoder-Tuple{}"><code>ShockArmEncoder</code></a>).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jbrea/FlyRL.jl/blob/270e463a113442cf9019d3cf2cecff6c04c5ada6/src/encoders.jl#L649-L653">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="FlyRL.MarkovKEncoder-Tuple{Any, Vararg{Any}}" href="#FlyRL.MarkovKEncoder-Tuple{Any, Vararg{Any}}"><code>FlyRL.MarkovKEncoder</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">MarkovKEncoder(K, encoders)
</code></pre><p>Create copies of the original encoders with offsets up to <code>K</code>. Appends <code>ˌk</code> to copy with offset <code>k</code>.</p><p><strong>Example</strong></p><pre><code class="nohighlight hljs">encode(MarkovKEncoder(3, DynamicCompressEncoder(:arm, ArmEncoder())), random_track()) |&gt; DataFrame</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jbrea/FlyRL.jl/blob/270e463a113442cf9019d3cf2cecff6c04c5ada6/src/encoders.jl#L812">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="FlyRL.OrientationEncoder" href="#FlyRL.OrientationEncoder"><code>FlyRL.OrientationEncoder</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">OrientationEncoder()</code></pre><p>Encodes orientations based on Δx and Δy.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jbrea/FlyRL.jl/blob/270e463a113442cf9019d3cf2cecff6c04c5ada6/src/encoders.jl#L183-L187">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="FlyRL.SemanticEncoder3-Tuple{}" href="#FlyRL.SemanticEncoder3-Tuple{}"><code>FlyRL.SemanticEncoder3</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">SemanticEncoder3(; with_outliers)
</code></pre><p>Encodes positions of the maze as <code>&quot;center&quot;</code>, <code>&quot;arm&quot;</code> or <code>&quot;turn&quot;</code>. Points outside the maze are marked as <code>&quot;outlier&quot;</code> if <code>with_outliers = true</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jbrea/FlyRL.jl/blob/270e463a113442cf9019d3cf2cecff6c04c5ada6/src/encoders.jl#L327">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="FlyRL.SemanticEncoder7-Tuple{}" href="#FlyRL.SemanticEncoder7-Tuple{}"><code>FlyRL.SemanticEncoder7</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">SemanticEncoder7(; with_outliers)
</code></pre><p>Encodes positions of the maze as <code>&quot;center&quot;</code>, <code>&quot;left arm&quot;</code>, <code>&quot;left turn&quot;</code>, <code>&quot;middle arm&quot;</code>, <code>&quot;middle turn&quot;</code>, <code>&quot;right arm&quot;</code>, <code>&quot;right turn&quot;</code>. Points outside the maze are marked as <code>&quot;outlier&quot;</code> if <code>with_outliers = true</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jbrea/FlyRL.jl/blob/270e463a113442cf9019d3cf2cecff6c04c5ada6/src/encoders.jl#L364">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="FlyRL.ShockArmEncoder-Tuple{}" href="#FlyRL.ShockArmEncoder-Tuple{}"><code>FlyRL.ShockArmEncoder</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">ShockArmEncoder(; with_outliers)
</code></pre><p>Encodes arms of the maze as <code>&quot;neutral A&quot;</code>, <code>&quot;neutral B&quot;</code>, <code>&quot;shock&quot;</code> and <code>&quot;center&quot;</code>. Points outside the maze are marked as <code>&quot;outlier&quot;</code> if <code>with_outliers = true</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jbrea/FlyRL.jl/blob/270e463a113442cf9019d3cf2cecff6c04c5ada6/src/encoders.jl#L294">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="FlyRL.SpeedEncoder-Tuple{}" href="#FlyRL.SpeedEncoder-Tuple{}"><code>FlyRL.SpeedEncoder</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">SpeedEncoder(; outlier_threshold, return_outliers)
</code></pre><p>Encode the speed based on <code>vx</code> and <code>vy</code> (see <a href="#FlyRL.VelocityEncoder"><code>VelocityEncoder</code></a>). Speed values above <code>outlier_threshold</code> are returned as <code>missing</code>. If <code>return_outliers = true</code>, return also a vector of outlier values.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jbrea/FlyRL.jl/blob/270e463a113442cf9019d3cf2cecff6c04c5ada6/src/encoders.jl#L480">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="FlyRL.VectorEncoder-Tuple" href="#FlyRL.VectorEncoder-Tuple"><code>FlyRL.VectorEncoder</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">VectorEncoder(encoders; T, dropmissing, intercept)
</code></pre><p>Encode multiple encodings in a single vector. Categorical encoders are one-hot encoded.</p><p><strong>Example</strong></p><pre><code class="nohighlight hljs">encode(VectorEncoder(ShockArmEncoder(), SpeedEncoder()), random_track(N = 10)) |&gt; DataFrame</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jbrea/FlyRL.jl/blob/270e463a113442cf9019d3cf2cecff6c04c5ada6/src/encoders.jl#L682">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="FlyRL.VelocityEncoder" href="#FlyRL.VelocityEncoder"><code>FlyRL.VelocityEncoder</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">VelocityEncoder()</code></pre><p>Encodes velocities based on Δx, Δy and Δt.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jbrea/FlyRL.jl/blob/270e463a113442cf9019d3cf2cecff6c04c5ada6/src/encoders.jl#L396-L400">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="FlyRL.EightWallsEncoder-Tuple{}" href="#FlyRL.EightWallsEncoder-Tuple{}"><code>FlyRL.EightWallsEncoder</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">EightWallsEncoder(; max_distance = 40, scale = max_distance, stepsize = 1.5)</code></pre><p>Encodes (x, y, ox, oy)-position-orientation tuples to relative distances to the next wall at 0, 45, 90, 135, 180, 225, 270 and 315 degrees relative to the orientation.</p><p>If the distance of the wall is <code>max_distance</code> and <code>scale == max_distance</code> the returned value is 1. The stepsize (in pixels) controls the granularity at which the distance to the wall is computed.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jbrea/FlyRL.jl/blob/270e463a113442cf9019d3cf2cecff6c04c5ada6/src/encoders.jl#L90-L99">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="FlyRL.FourWallsEncoder-Tuple{}" href="#FlyRL.FourWallsEncoder-Tuple{}"><code>FlyRL.FourWallsEncoder</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">FourWallsEncoder(; max_distance = 40, scale = max_distance, stepsize = 1.5)</code></pre><p>Encodes (x, y, ox, oy)-position-orientation tuples to relative distances to the next wall at 0, 90, 180 and 270 degrees relative to the orientation.</p><p>If the distance of the wall is <code>max_distance</code> and <code>scale == max_distance</code> the returned value is 1. The stepsize (in pixels) controls the granularity at which the distance to the wall is computed.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jbrea/FlyRL.jl/blob/270e463a113442cf9019d3cf2cecff6c04c5ada6/src/encoders.jl#L68-L77">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="FlyRL.SixWallsEncoder-Tuple{}" href="#FlyRL.SixWallsEncoder-Tuple{}"><code>FlyRL.SixWallsEncoder</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">SixWallsEncoder(; max_distance = 40, scale = max_distance, stepsize = 1.5)</code></pre><p>Encodes (x, y, ox, oy)-position-orientation tuples to relative distances to the next wall at 0, 45, 135, 180, 225 and 315 degrees relative to the orientation.</p><p>If the distance of the wall is <code>max_distance</code> and <code>scale == max_distance</code> the returned value is 1. The stepsize (in pixels) controls the granularity at which the distance to the wall is computed.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jbrea/FlyRL.jl/blob/270e463a113442cf9019d3cf2cecff6c04c5ada6/src/encoders.jl#L79-L88">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="FlyRL.decode-Tuple{FlyRL.VectorEncoder, Any}" href="#FlyRL.decode-Tuple{FlyRL.VectorEncoder, Any}"><code>FlyRL.decode</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">decode(e, vectors)
</code></pre><p>Inverse of <code>encode(VectorEncoder(), track)</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jbrea/FlyRL.jl/blob/270e463a113442cf9019d3cf2cecff6c04c5ada6/src/encoders.jl#L784">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="FlyRL.encode!-Tuple{Any, DataFrames.DataFrame}" href="#FlyRL.encode!-Tuple{Any, DataFrames.DataFrame}"><code>FlyRL.encode!</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Encode <code>track</code> with <code>encoder</code> and store result in data frame <code>track</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jbrea/FlyRL.jl/blob/270e463a113442cf9019d3cf2cecff6c04c5ada6/src/encoders.jl#L8">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="FlyRL.encode-Tuple{Any, DataFrames.DataFrame}" href="#FlyRL.encode-Tuple{Any, DataFrames.DataFrame}"><code>FlyRL.encode</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Encode <code>track</code> with <code>encoder</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jbrea/FlyRL.jl/blob/270e463a113442cf9019d3cf2cecff6c04c5ada6/src/encoders.jl#L2">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="FlyRL.DenseLayer-Tuple{Any, Any, Any}" href="#FlyRL.DenseLayer-Tuple{Any, Any, Any}"><code>FlyRL.DenseLayer</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">DenseLayer(Din, Dout, f; T, w, b)
</code></pre><p>Makes a dense layer.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jbrea/FlyRL.jl/blob/270e463a113442cf9019d3cf2cecff6c04c5ada6/src/mlp.jl#L16">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="FlyRL.MLP-Tuple" href="#FlyRL.MLP-Tuple"><code>FlyRL.MLP</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">MLP(layers)
</code></pre><p>Makes a multi-layer perceptron.</p><p><strong>Example</strong></p><pre><code class="nohighlight hljs">mlp = MLP(DenseLayer(10, 20, relu), DenseLayer(20, 1, identity))
mlp(rand(10))</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jbrea/FlyRL.jl/blob/270e463a113442cf9019d3cf2cecff6c04c5ada6/src/mlp.jl#L56">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="FlyRL.train" href="#FlyRL.train"><code>FlyRL.train</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">train(agent, data)
train(
    agent,
    data,
    params;
    epochs,
    verbosity,
    opt,
    print_interval,
    lopt,
    maxtime,
    optim_options,
    maxeval,
    lb,
    ub,
    fixed,
    batchsize
)
</code></pre><p>Train agent on preprocessed <code>data</code> with initial parameters <code>params</code> (=<code>params(model)</code> by default).</p><p>Keep the default <code>opt = :MLSL</code> for small scale problems and set <code>opt = Adam(), batchsize = 32</code>, if training on minibatches of size 32 is desired. Fix parameter values with e.g. <code>fixed = (; η = 0.)</code>. Gradient evaluation is multi-threaded, if julia is started with multiple threads, e.g. <code>bash&gt; julia -t8</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jbrea/FlyRL.jl/blob/270e463a113442cf9019d3cf2cecff6c04c5ada6/src/fitting.jl#L247">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="FlyRL.train" href="#FlyRL.train"><code>FlyRL.train</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">train(model, data)
train(model, data, params; kwargs...)
</code></pre><p>Train a model to a multiple data frames <code>data</code> with initial parameters <code>params</code> (=<code>params(model)</code> by default).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jbrea/FlyRL.jl/blob/270e463a113442cf9019d3cf2cecff6c04c5ada6/src/fitting.jl#L239">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="FlyRL.train" href="#FlyRL.train"><code>FlyRL.train</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">train(model, data)
train(
    model,
    data,
    params;
    multi_threading,
    nthreads,
    kwargs...
)
</code></pre><p>Train a model to a single data frame <code>data</code> with initial parameters <code>params</code> (=<code>params(model)</code> by default).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jbrea/FlyRL.jl/blob/270e463a113442cf9019d3cf2cecff6c04c5ada6/src/fitting.jl#L226">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="FlyRL.DeltaPositionModel-Tuple{}" href="#FlyRL.DeltaPositionModel-Tuple{}"><code>FlyRL.DeltaPositionModel</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">DeltaPositionModel(
;
    nhidden,
    σ,
    T,
    dx,
    dy,
    f,
    encoder,
    kwargs...
)
</code></pre><p>Make a DeltaPositionModel.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jbrea/FlyRL.jl/blob/270e463a113442cf9019d3cf2cecff6c04c5ada6/src/models.jl#L139">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="FlyRL.Model" href="#FlyRL.Model"><code>FlyRL.Model</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">Model(agent, preprocessor)</code></pre><p>Makes a model.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jbrea/FlyRL.jl/blob/270e463a113442cf9019d3cf2cecff6c04c5ada6/src/models.jl#L1-L5">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="FlyRL.PolicyGradientAgent-Tuple{}" href="#FlyRL.PolicyGradientAgent-Tuple{}"><code>FlyRL.PolicyGradientAgent</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">PolicyGradientAgent(; Din, Dout, T, model, update_lag)
</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jbrea/FlyRL.jl/blob/270e463a113442cf9019d3cf2cecff6c04c5ada6/src/models.jl#L207">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="FlyRL.StationaryAgent-Tuple{}" href="#FlyRL.StationaryAgent-Tuple{}"><code>FlyRL.StationaryAgent</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">StationaryAgent(; Dout, model, T)
</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jbrea/FlyRL.jl/blob/270e463a113442cf9019d3cf2cecff6c04c5ada6/src/models.jl#L302">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="FlyRL.logprob-Tuple{FlyRL.Model, DataFrames.DataFrame, Any}" href="#FlyRL.logprob-Tuple{FlyRL.Model, DataFrames.DataFrame, Any}"><code>FlyRL.logprob</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">logprob(model, data, params)
</code></pre><p>Compute the log-probability of the <code>data</code> given the <code>model</code> with parameters <code>params</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jbrea/FlyRL.jl/blob/270e463a113442cf9019d3cf2cecff6c04c5ada6/src/models.jl#L13">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="FlyRL.Preprocessor-Tuple{}" href="#FlyRL.Preprocessor-Tuple{}"><code>FlyRL.Preprocessor</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">Preprocessor(; input, target, shock, target_offset)
</code></pre><p>Define a preprocessor with input encoder <code>input</code>, target encoder <code>target</code> and shock encoder <code>shock</code> (= <code>ColumnPicker(:shock)</code> by default).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jbrea/FlyRL.jl/blob/270e463a113442cf9019d3cf2cecff6c04c5ada6/src/preprocessor.jl#L7">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="FlyRL.preprocess-Tuple{FlyRL.Preprocessor, Any}" href="#FlyRL.preprocess-Tuple{FlyRL.Preprocessor, Any}"><code>FlyRL.preprocess</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">preprocess(p, data)
</code></pre><p>Preprocess data with preprocessor <code>p</code> (see also <a href="#FlyRL.Preprocessor-Tuple{}"><code>Preprocessor</code></a>).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jbrea/FlyRL.jl/blob/270e463a113442cf9019d3cf2cecff6c04c5ada6/src/preprocessor.jl#L18">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="FlyRL.plot_compare_probs-Tuple{Any, Any}" href="#FlyRL.plot_compare_probs-Tuple{Any, Any}"><code>FlyRL.plot_compare_probs</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">plot_compare_probs(track1, track2; ranges, f, kwargs...)
</code></pre><p>Compare the probabilities of <code>track1</code> and <code>track2</code> for being in certain states at different temporal ranges. The default ranges are <code>(0, 1)</code> (full range), <code>(0, .5)</code> (first half) <code>(.5, 1))</code> (second half). <code>kwargs</code> are passed to <a href="#FlyRL.plot_probs-Tuple{DataFrames.DataFrame}"><code>plot_probs</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jbrea/FlyRL.jl/blob/270e463a113442cf9019d3cf2cecff6c04c5ada6/src/plotting.jl#L172">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="FlyRL.plot_maze-Tuple{Any}" href="#FlyRL.plot_maze-Tuple{Any}"><code>FlyRL.plot_maze</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">plot_maze(track; f)
</code></pre><p>Plot the outline of a maze and the positions of a fly (<code>track.x</code> and <code>track.y</code>). See also <a href="#FlyRL.plot_track-Tuple{Any}"><code>plot_track</code></a>. <code>f = Makie.Figure()</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jbrea/FlyRL.jl/blob/270e463a113442cf9019d3cf2cecff6c04c5ada6/src/plotting.jl#L8">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="FlyRL.plot_probs-Tuple{DataFrames.DataFrame}" href="#FlyRL.plot_probs-Tuple{DataFrames.DataFrame}"><code>FlyRL.plot_probs</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">plot_probs(track; preprocessor, kwargs...)
</code></pre><p>Plot probabilities (frequencies) of being in certain states. By default the states defined by the <code>ShockArmEncoder</code> are taken, i.e. <code>preprocessor = Preprocessor(input = DynamicCompressEncoder(:shock_arm, ShockArmEncoder()),                              target = ShockArmEncoder())</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jbrea/FlyRL.jl/blob/270e463a113442cf9019d3cf2cecff6c04c5ada6/src/plotting.jl#L133">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="FlyRL.plot_summaries-Tuple{Any}" href="#FlyRL.plot_summaries-Tuple{Any}"><code>FlyRL.plot_summaries</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">plot_summaries(tracks; f, summaries)
</code></pre><p>Plot some summary statistics for a collection of <code>tracks</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jbrea/FlyRL.jl/blob/270e463a113442cf9019d3cf2cecff6c04c5ada6/src/plotting.jl#L262">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="FlyRL.plot_summary-Tuple{Any, Any}" href="#FlyRL.plot_summary-Tuple{Any, Any}"><code>FlyRL.plot_summary</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">plot_summary(summary, tracks; f)
</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jbrea/FlyRL.jl/blob/270e463a113442cf9019d3cf2cecff6c04c5ada6/src/plotting.jl#L251">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="FlyRL.plot_track-Tuple{Any}" href="#FlyRL.plot_track-Tuple{Any}"><code>FlyRL.plot_track</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">plot_track(track; f)
</code></pre><p>Plots a track as a function of time (see <a href="#FlyRL.plot_track_3D-Tuple{Any}"><code>plot_track_3D</code></a>) and on the maze outline (see <a href="#FlyRL.plot_maze-Tuple{Any}"><code>plot_maze</code></a>).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jbrea/FlyRL.jl/blob/270e463a113442cf9019d3cf2cecff6c04c5ada6/src/plotting.jl#L188">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="FlyRL.plot_track_3D-Tuple{Any}" href="#FlyRL.plot_track_3D-Tuple{Any}"><code>FlyRL.plot_track_3D</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">plot_track_3D(
    track;
    f,
    cm_per_pixel,
    ylabel,
    xlabel,
    zlabel,
    perspectiveness,
    elevation,
    azimuth,
    viewmode,
    alignmode,
    protrusions,
    yticks,
    zticks
)
</code></pre><p>Plots <code>track.x</code> and <code>track.y</code> as a function of <code>track.t</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jbrea/FlyRL.jl/blob/270e463a113442cf9019d3cf2cecff6c04c5ada6/src/plotting.jl#L203">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="FlyRL.ChangeOf" href="#FlyRL.ChangeOf"><code>FlyRL.ChangeOf</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">ChangeOf(stat)
ChangeOf(stat, midpoint)
</code></pre><p>Compute the change in statistics <code>stat</code> before and after the <code>midpoint</code> (= 0.5 by default).</p><p><strong>Example</strong></p><pre><code class="nohighlight hljs">summarize(ChangeOf(RelativeTimeInShockArm()), track)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jbrea/FlyRL.jl/blob/270e463a113442cf9019d3cf2cecff6c04c5ada6/src/summary_stats.jl#L72">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="FlyRL.RelativeTimeInState-Tuple{Any, Any}" href="#FlyRL.RelativeTimeInState-Tuple{Any, Any}"><code>FlyRL.RelativeTimeInState</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">RelativeTimeInState(encoder, state; exclude)
</code></pre><p>Compute the relative duration spent in <code>state</code> in the encoding defined by the <code>encoder</code>. States can be excluded with <code>exclude = [&quot;state1&quot;, &quot;state2&quot;]</code>.</p><p><strong>Example</strong></p><pre><code class="nohighlight hljs">summarize(RelativeTimeInState(SemanticEncoder7(), &quot;left turn&quot;, exclude = [&quot;center&quot;]), track)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jbrea/FlyRL.jl/blob/270e463a113442cf9019d3cf2cecff6c04c5ada6/src/summary_stats.jl#L9">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="FlyRL.RelativeVisitsToState-Tuple{Any, Any}" href="#FlyRL.RelativeVisitsToState-Tuple{Any, Any}"><code>FlyRL.RelativeVisitsToState</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">RelativeVisitsToState(e, key; exclude)
</code></pre><p>Compute the relative number of visits to <code>state</code> in the encoding defined by the <code>encoder</code>. States can be excluded with <code>exclude = [&quot;state1&quot;, &quot;state2&quot;]</code>.</p><p><strong>Example</strong></p><pre><code class="nohighlight hljs">summarize(RelativeVisitsToState(SemanticEncoder7(), &quot;left turn&quot;, exclude = [&quot;center&quot;]), track)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jbrea/FlyRL.jl/blob/270e463a113442cf9019d3cf2cecff6c04c5ada6/src/summary_stats.jl#L41">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="FlyRL.RelativeTimeInShockArm-Tuple{}" href="#FlyRL.RelativeTimeInShockArm-Tuple{}"><code>FlyRL.RelativeTimeInShockArm</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">RelativeTimeInShockArm()
</code></pre><p>Relative time in shock arm.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jbrea/FlyRL.jl/blob/270e463a113442cf9019d3cf2cecff6c04c5ada6/src/summary_stats.jl#L29">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="FlyRL.RelativeVisitsToShockArm-Tuple{}" href="#FlyRL.RelativeVisitsToShockArm-Tuple{}"><code>FlyRL.RelativeVisitsToShockArm</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">RelativeVisitsToShockArm()
</code></pre><p>Relative visits to shock arm.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jbrea/FlyRL.jl/blob/270e463a113442cf9019d3cf2cecff6c04c5ada6/src/summary_stats.jl#L61">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="FlyRL.Environment" href="#FlyRL.Environment"><code>FlyRL.Environment</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">Environment(; preprocessor,
              pattern = &quot;GBB&quot;,
              shock = shock_function(pattern),
              state = rand_state(preprocessor, pattern, shock))</code></pre><p>Define an environment that can be used for simulations.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jbrea/FlyRL.jl/blob/270e463a113442cf9019d3cf2cecff6c04c5ada6/src/simulators.jl#L1-L8">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="FlyRL.random_track-Tuple{}" href="#FlyRL.random_track-Tuple{}"><code>FlyRL.random_track</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">random_track(; N, pattern, shock)
</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/jbrea/FlyRL.jl/blob/270e463a113442cf9019d3cf2cecff6c04c5ada6/src/simulators.jl#L25">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../">« FlyRL</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.24 on <span class="colophon-date" title="Tuesday 23 May 2023 20:27">Tuesday 23 May 2023</span>. Using Julia version 1.9.0.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
